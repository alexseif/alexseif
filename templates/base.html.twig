<!DOCTYPE html>
<html lang="{{ app.request.locale }}" xml:lang="{{ app.request.locale }}" data-theme="dark-mode" dir="{{ is_rtl_locale(app.request.locale) ? 'rtl' : 'ltr' }}" class="dark-mode">
  <head prefix="og: https://ogp.me/ns#">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Alex Seif - Freelance Web Developer with 20 years of experience in Symfony, WordPress, DevOps, and more." />
    <meta name="keywords" content="Alex Seif, Web Developer, Symfony, WordPress, DevOps, Portfolio" />
    <meta name="author" content="Alex Seif" />
    <link rel="canonical" href="https://alexseif.com/" />

    <!-- Preconnects for performance -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://connect.facebook.net" crossorigin />

    <!-- Preload favicon and hero image -->
    {# <link rel="preload" href="{{ asset('favicon.ico') }}" as="image" type="image/x-icon" /> #}
    {# <link rel="preload" href="{{ asset('https://alexseif.com/images/alex-seif-business-card.png') }}" as="image" /> #}

    <!-- Favicon -->
    <link rel="shortcut icon" href="{{ asset('favicon.ico') }}" type="image/x-icon" />
    <link rel="icon" href="{{ asset('favicon.ico') }}" type="image/x-icon" />

    <!-- Stylesheets -->
    {% block stylesheets %}
      {{ encore_entry_link_tags('app') }}
      {% if app.request.locale != 'en' %}
        {{ encore_entry_link_tags('rtl') }}
      {% endif %}
    {% endblock %}

    <!-- Social Meta -->
    {% block meta %}
      <meta property="og:title" content="Alex Seif - Web Developer" />
      <meta property="og:url" content="{{ app.request.uri }}" />
      <meta property="og:image" content="{{ asset('https://alexseif.com/images/alex-seif-business-card.png') }}" />
      <meta property="og:site_name" content="Alex Seif" />
      <meta property="og:description" content="Freelance Web Developer with 20 years of experience in Symfony, WordPress, DevOps, and more." />
      <meta property="og:type" content="website" />
      <meta name="twitter:card" content="summary_large_image" />
      <meta name="twitter:title" content="Alex Seif" />
      <meta name="twitter:description" content="Freelance Web Developer | 20 Years of Delivering Excellence." />
      <meta name="twitter:image" content="https://alexseif.com/images/alex-seif-business-card.png" />
    {% endblock %}

    <!-- Structured Data -->
    {% block structured_data %}
      <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "ProfessionalService",
          "name": "Alex Seif – WordPress Optimization",
          "image": "https://alexseif.com/images/WordPress-Optimize-card.png",
          "url": "https://alexseif.com/wordpress-optimization",
          "description": {{ 'wordpress_optimize.meta.description'|trans|json_encode|raw }},
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "Cairo",
            "addressRegion": "EG",
            "addressCountry": "Egypt"
          },
          "telephone": "+20-100-400-6332",
          "areaServed": "EG",
          "priceRange": "$$",
          "founder": {
            "@type": "Person",
            "name": "Alex Seif",
            "jobTitle": {{ 'wordpress_optimize.meta.job_title'|trans|json_encode|raw }}
          },
          "sameAs": [
            "https://twitter.com/alexseif",
            "https://linkedin.com/in/alexseif",
            "https://github.com/alexseif",
            "https://www.instagram.com/alex_makes_websites"
          ]
        }
      </script>
    {% endblock %}

    <!-- Title -->
    <title>
      {% block title %}
        {{ 'alex_seif'|trans }} – {{ 'web_developer'|trans|capitalize }}
      {% endblock %}
    </title>

    <!-- Google Tag (deferred for performance) -->
    {% if 'prod' == app.environment %}
      <script>
      window.addEventListener('load', function () {
        var gtagScript = document.createElement('script');
        gtagScript.async = true;
        gtagScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-QV4S3QWW7F';
        document.head.appendChild(gtagScript);

        gtagScript.onload = function () {
          window.dataLayer = window.dataLayer || [];
          function gtag() { dataLayer.push(arguments); }
          gtag('js', new Date());
          gtag('config', 'G-QV4S3QWW7F');
        };
      });
    </script>
    {% endif %}
  </head>
  <body class="dark-mode">
    {% block body %}
      {% block nav %}
        {% include '_nav.html.twig' %}
      {% endblock %}
      <div id="background-noise">
        <canvas class="background-grid" id="dotCanvas"></canvas>
      </div>
      {% block sitewrapper %}
        <main id="site-wrapper">
          {% block content %}

          {% endblock %}
        </main>
      {% endblock %}
      {% block footer %}
        {% include 'footer.html.twig' %}
      {% endblock %}
    {% endblock %}
    {% block javascripts %}
      {{ encore_entry_script_tags('app') }}
    {% endblock %}

    <!-- Messenger Chat Plugin Code -->
    <div id="fb-root"></div>
    <div id="fb-customer-chat" class="fb-customerchat"></div>

    {% if 'prod' == app.environment %}
      <script>
  window.addEventListener('load', function () {
    var chatbox = document.getElementById('fb-customer-chat');
    chatbox.setAttribute("page_id", "268403033331219");
    chatbox.setAttribute("attribution", "biz_inbox");

    window.fbAsyncInit = function () {
      FB.init({
        xfbml: true,
        version: 'v10.0'
      });
    };

    var js, fjs = document.getElementsByTagName('script')[0];
    if (document.getElementById('facebook-jssdk')) return;

    js = document.createElement('script');
    js.id = 'facebook-jssdk';
    js.src = 'https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js';
    fjs.parentNode.insertBefore(js, fjs);
  });
</script>
    {% endif %}
  </body>
</html>
