<section id="testimonials">
  <div class="container">
    <header class="flow">
      <h2>What Clients Say</h2>
      <p>Real feedback from real people. These aren’t just reviews—they’re proof of trust, clarity, and results.</p>
    </header>
    <div class="testimonial-grid grid-3">
     {% for review in reviews %}
  <script type="application/ld+json">
  {{ {
    "@context": "https://schema.org",
    "@type": "Review",
    "reviewRating": {
      "@type": "Rating",
      "ratingValue": review.stars|default(5),
      "bestRating": "5"
    },
    "author": {
      "@type": "Person",
      "name": review.name|default("Anonymous")|e
    },
    "reviewBody": review.review_text|default("No review text provided")|e,
    "itemReviewed": {
      "@type": "Product",
      "name": review.product|default("Optimize")|e
    }
  }|json_encode|raw }}
  </script>
        <div class="testimonial-card card">
          <div class="review-header">
          {% if review.avatar is defined %}
            <img src="{{ asset('build/' ~ review.avatar) }}" alt="{{ review.name }} avatar" class="avatar" />
          {% endif %}
            <div>
          {% if review.name is defined %}
              <strong>{{ review.name }}</strong>
          {% endif %}
          {% if review.stars is defined %}
              <div class="stars">{{ range(1, review.stars)|map(i => '★')|join('') }}</div>
          {% endif %}
            </div>
          </div>
          <!-- .review-header -->
          {% if review.review_image is defined %}
          <figure>
        <img src="{{ review.review_image }}" alt="{{ review.review_text }}" class="testimonial-img" />
        <figcaption>
        <q>{{ review.review_text }}</q>
        </figcaption>
          </figure>
          {% elseif review.review_text is defined %}
          <p class="review-text">{{ review.review_text }}</p>
          {% endif %}
        </div>
        <!-- .testimonial-card -->
      {% endfor %}
    </div>
    <!-- .testimonial-grid -->
      </div>
</section>
